# Maintainer: Ryan Suchocki <ryan@ryansuchocki.co.uk>
pkgname=microscheme-git
pkgver=v0.9.1
pkgrel=1
pkgdesc="A Scheme subset designed for Atmel microcontrollers, especially as found on Arduino boards"
arch=('any')
url="http://microscheme.org"
license=('MIT')
groups=()
depends=('glibc' avr-gcc' 'avrdude')
makedepends=('git')
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=('microscheme::git+http://github.com/ryansuchocki/microscheme')
noextract=()
md5sums=('SKIP')

pkgver() {
  cd "microscheme"
  git describe --tags | sed 's|-|.|g'
}

build() {
  cd "microscheme"
  make hexify
  make build
}

package() {
	cd "microscheme"
	make PREFIX="$pkgdir/usr" install
	install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/microscheme-git/LICENSE"
}
